@using Template.WebUI.Components;

<header class="flex flex-row justify-between items-center w-full h-16 fixed top-0 left-0 bg-gray-100">

    @* Desktop *@
    <div class="hidden lg:flex flex-row w-13% ml-4">

        <a class="flex flex-row gap-2 items-center" href="/">

            <div class="logo">
                <img src="/img/newLogo.svg" />
            </div>

            <p class="h-min text-zinc-500 font-bold text-2xl">Quill</p>
        </a>

    </div>

    <div class="hidden lg:flex flex-row w-87% justify-between items-center">

        <nav class="flex flex-row gap-4 w-1/5 justify-between items-center">

            <NavLink class="text-zinc-500" href="/">
                Home
            </NavLink>

            <NavLink class="text-zinc-500" href="/folders">
                Folders
            </NavLink>

            <NavLink class="text-zinc-500" href="/settings">
                Settings
            </NavLink>

        </nav>

        <AuthorizeView>
            <Authorized>
                <a class="text-zinc-500 text-xl font-bold hover:bg-yellow-100 px-2 py-1 rounded block mr-2" href="/account">
                    @context.User.Identity.Name
                </a>
            </Authorized>
            <NotAuthorized>
                <button class="text-zinc-500 text-xl font-bold hover:bg-yellow-100 px-2 py-1 rounded block mr-2" @onclick="ShowLoginModal">
                    Sign in
                </button>
            </NotAuthorized>
        </AuthorizeView>

    </div>

    @* Mobile *@
    <nav class="text-zinc-500 flex flex-row w-full justify-between px-8 lg:hidden">

        <NavLink class="text-xl font-bold" href="/">
            <i class="fa-solid fa-house"></i>
        </NavLink>

        <NavLink class="text-xl font-bold" href="/folders">
            <i class="fa-solid fa-folder"></i>
        </NavLink>

        <NavLink class="text-xl font-bold" href="/settings">
            <i class="fa-solid fa-gear"></i>
        </NavLink>

        <AuthorizeView>

            <Authorized>
                <a class="text-zinc-500 text-xl font-bold rounded block" href="/account">
                    <i class="fa-solid fa-user"></i>
                </a>
            </Authorized>

            <NotAuthorized>
                <button class="text-zinc-500 text-xl font-bold rounded block" @onclick="ShowLoginModal">
                    <i class="fa-solid fa-right-to-bracket"></i>
                </button>
            </NotAuthorized>

        </AuthorizeView>
    </nav>

</header>

<LoginModal @ref="_loginModal" />

@code {

    [CascadingParameter]
    private Task<AuthenticationState> AuthenticationState { get; set; }

    private LoginModal _loginModal;

    private void ShowLoginModal()
    {
        _loginModal.ToggleModal();
    }

}